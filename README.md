# Пульт охраны банка.

Это внутренний репозиторий для сотрудников банка "Сияние". Если вы попали в этот репозиторий случайно, товы не сможете его запустить, т.к. у вас нет доступа к БД, но можете свободно использовать код верстки или посмотреть как реализованы запросы к БД.

Пульт охраны - это сайт, который можно подключить к удаленной базе данных с визитами и карточками пропуска сотрудников нашего банка.

## Окружение

Python3.14.2 должен быть уже установлен.
Рекомендуется использовать [virtualemv/venv](https://docs.python.org/3/library/venv.html) для изоляции проекта.

## Зависимости

Используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```

## Переменные окружения

Переменные окружения: DB_HOST(хост), DB_PASSWORD(пароль), SECRET_KEY(секретный ключ), DB_PORT(номер порта), DB_NAME(имя), DB_USER(пользователь). Это переменные в которых должны храниться данные для подачи запроса в базу данных и настройки работы приложения. Для работы программы необходимо создать файл ".env"  и просвоить переменным соответствующие значения:
```
DB_HOST = '...'
DB_PORT = '...'
DB_NAME = '...'
DB_USER = '...'
DB_PASSWORD = '...'
SECRET_KEY = '...'
```
При желании переменные DEBUG(отладка) и ALLOWED_HOSTS(разрешенные хосты) можно скрыть присвоив им нужное значение в файле '.env'. На данный момент им присвоены дефолтные значения в файле 'sittings.py'.
## Запуск

Затем запускаем программу в командной строке из каталога репозитория:

```
python manage.py runserver 0.0.0.0:8000
```
Вбиваем в адресную строку в  браузере  этот адрес http://localhost:8000

И перед нами появляется список активных пропусков.
Нажав на имя любого посетителя,  мы увидим все его посещения (дата и время посещения, продолжительность и графу 'Был ли визит подозрителен') и если продолжительность посещения больше часа в графе 'Был ли визит подозрителен' будет значение 'True', если меньше часа 'False'. Так же мы можем посмотреть список посетителей, которые еще находятся в банке перейдя в раздел 'Список пользователей в хранилище'.


